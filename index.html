<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Cut | Tax Visualizer</title>
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <main>
    <header>
      <h1>The Cut</h1>
      <p>Move the slider to see how each dollar is taxed and what you keep.</p>
      <p class="disclaimer">* Based on a single filer for the 2024 tax year. Calculations are simplified for learning purposes.</p>
    </header>

    <section id="calculator">
      <h2>Where does your income actually go?</h2>

      <div class="input-area">
        <label for="userIncome">Annual Income</label>
        <input id="userIncome" type="number" step="500" placeholder="e.g., 75,000" />
        <input id="incomeSlider" type="range" min="0" max="1000000" step="1000" value="75000" />
        <button type="button" id="calcBtn">Calculate</button>
        <small id="sliderHint">Drag to change income</small>
      </div>

      <div id="summaryStrip">
        <div class="summary-pill">
          <span class="label">You keep</span>
          <span id="dollarsKept" class="value">—</span>
          <span id="percentKept" class="subvalue">—</span>
        </div>
        <div class="summary-pill">
          <span class="label">You pay in taxes</span>
          <span id="taxDollarsPaid" class="value">—</span>
          <span id="effRate" class="subvalue">—</span>
        </div>
        <div class="summary-pill">
          <span class="label">Your next $1 is taxed at</span>
          <span id="marginalRate" class="value">—</span>
        </div>
      </div>

      <button id="toggleBreakdown" type="button">Show full breakdown</button>
    </section>

    <div id="workbench">
    
      <section id="breakdown" hidden>
        <h3>Breakdown</h3>

        <div id="totals">
          <div class="row"><span>Standard Deduction</span><span id="sdValue">—</span></div>
          <div class="row"><span>Taxable Income</span><span id="taxableValue">—</span></div>
          <div class="row"><span>Total Tax Owed</span><span id="totalTaxValue">—</span></div>
          <div class="row"><span>Effective Rate</span><span id="effectiveRateValue">—</span></div>
          <div class="row"><span>Effective (Dollars)</span><span id="effectiveDollarValue">—</span></div>
          <div class="row"><span>Marginal Rate</span><span id="marginalRateValue">—</span></div>
          <div class="row"><span>Marginal (Dollars)</span><span id="marginalDollarValue">—</span></div>
          <div class="row"><span>Money Kept</span><span id="moneyKeptValue">—</span></div>
        </div>

        <div class="table-wrap">
          <table id="bracketTable" aria-label="Per bracket breakdown">
            <thead>
              <tr>
                <th>Bracket</th>
                <th>Amount Taxed at Rate</th>
                <th>Tax Paid</th>
                <th>% of Total Income</th>
              </tr>
            </thead>
            <tbody id="bracketBody"></tbody>
          </table>
        </div>
      </section>

      <section id="graph">
        <h2>Watch your income fill each bracket</h2>
        <div class="graph-stage">
          <canvas id="taxChart"></canvas>
          <div class="water-sheen"></div>
        </div>
        <p class="caption">Only the portion within each layer is taxed at that layer's rate.</p>
      </section>
    </div>

    <section id="takeaway">
      <h3>What this means</h3>
      <p id="takeawayDetails">
        The visualization breaks down how a progressive tax system works:
        your income is split into layers, and each layer is taxed at its own rate.
        The higher your income, the more layers you fill, but the earlier layers always stay taxed at their lower rates.
        What you keep represents the portion of your income left after federal taxes as a single filer for 2024.
      </p>
    </section>

    <details id="knowledge">
      <summary>What am I looking at?</summary>
      <p>Each layer is taxed at its own rate. As income rises, only the top layer gets the higher rate.</p>
      <h3>Key terms</h3>
      <ul>
        <li>Standard Deduction — amount subtracted from your gross income before taxes are calculated.</li>
        <li>Taxable Income — income after the standard deduction is applied.</li>
        <li>Total Tax Owed — combined tax from all brackets.</li>
        <li>Effective Rate — your total tax divided by your income; represents your average tax rate.</li>
        <li>Marginal Rate — the rate applied to your next dollar earned.</li>
        <li>Money Kept — the amount you actually take home after federal taxes.</li>
      </ul>
      <h3>How to read it</h3>
      <ol>
        <li>Enter your annual income or drag the slider.</li>
        <li>Review deduction, taxable income, total tax, and money kept.</li>
        <li>Only the portion of income within each bracket is taxed at that bracket’s rate.</li>
      </ol>
      <p class="footnote">Simplified for demo purposes. No state/payroll taxes, credits, or adjustments.</p>
    </details>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.1/dist/chart.umd.min.js"></script>
  <script src="/js/main.js" defer></script>
</body>
</html>
